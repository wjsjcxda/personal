<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>个人网站</title>
		<!-- 分辨率范围:1200 - 2000 -->
	</head>
	<link rel="stylesheet" type="text/css" href="css/reset.css" />
	<link rel="stylesheet" type="text/css" href="./css/personal.css" />
	<body>
		<section id="wrap">
			<!-- 流体布局 -->
			<div id="mask">
				<div class="up"></div>
				<div class="down"></div>
				<span class="line"></span>
			</div>
			<header id="head">
				<!-- 固定布局 -->
				<div class="headMain">
					<h1 class="logo">
						<a href="javascript:;">
							<img src="img/logo.png">
						</a>
					</h1>
					<div class="music">
						<audio src="./audio/audio.mp3" loop autoplay>
							当前浏览器不支持audio
						</audio>
					</div>
					<nav class="nav">
						<ul class="list clearfix">
							<li>
								<a href="javascript:;">
									<div class="up"><img src="./img/home_gruen.png"></div>
									<div class="down"><img src="./img/home.png"></div>
								</a>
							</li>
							<li>
								<a href="javascript:;">
									<div class="up">course</div>
									<div class="down">course</div>
								</a>
							</li>
							<li>
								<a href="javascript:;">
									<div class="up">project</div>
									<div class="down">project</div>
								</a>
							</li>
							<li>
								<a href="javascript:;">
									<div class="up">introduction</div>
									<div class="down">introduction</div>
								</a>
							</li>
							<li>
								<a href="javascript:;">
									<div class="up">about</div>
									<div class="down">about</div>
								</a>
							</li>
						</ul>
					</nav>
					<div class="arrow"></div>
				</div>
			</header>

			<section id="content">
				<ul class="list">
					<li class="home">
						<section>
							<ul class="home1">
								<li class="commonTitle active">
									<div class="item">
										one layer
									</div>
								</li>
								<li class="commonTitle">
									<div class="item">
										two layer
									</div>
								</li>
								<li class="commonTitle">
									<div class="item">
										three layer
									</div>
								</li>
								<li class="commonTitle">
									<div class="item">
										four layer
									</div>
								</li>
							</ul>
							<ul class="home2">
								<li class="active"></li>
								<li></li>
								<li></li>
								<li></li>
							</ul>
						</section>
					</li>
					<li class="course">
						<section>
							<header class="course1 commonTitle">
								<span>课程</span> <br>
								<span>知识架构</span><br>
								<span>学习无止境</span><br>
							</header>
							<div class="course2 commonText">
								<p>
									JavaScript（简称“JS”）是一种具有函数优先的轻量级，解释型或即时编译型的编程语言。虽然它是作为开发Web页面的脚本语言而出名，但是它也被用到了很多非浏览器环境中.
									<br>
									JavaScript基于原型编程、多范式的动态脚本语言，并且支持面向对象、命令式、声明式、函数式编程范式。
								</p>
							</div>
							<div class="course3">
								<span class="line"></span>
								<span class="line"></span>
								<span class="line"></span>
								<span class="line"></span>
								<span class="line"></span>
								<div class="item">
									<div class="backFace"></div>
									<div class="face">开始</div>
								</div>
								<div class="item">
									<div class="backFace"></div>
									<div class="face">Html</div>
								</div>
								<div class="item">
									<div class="backFace"></div>
									<div class="face">JavaScript</div>
								</div>
								<div class="item">
									<div class="backFace"></div>
									<div class="face">Css</div>
								</div>
								<div class="item">
									<div class="backFace"></div>
									<div class="face">Webpack</div>
								</div>
								<div class="item">
									<div class="backFace"></div>
									<div class="face">Node</div>
								</div>
								<div class="item">
									<div class="backFace"></div>
									<div class="face">ES6</div>
								</div>
								<div class="item">
									<div class="backFace"></div>
									<div class="face">Promise</div>
								</div>
								<div class="item">
									<div class="backFace"></div>
									<div class="face">Jquery</div>
								</div>
								<div class="item">
									<div class="backFace"></div>
									<div class="face">Vue</div>
								</div>
								<div class="item">
									<div class="backFace"></div>
									<div class="face">TypeScript</div>
								</div>
								<div class="item">
									<div class="backFace"></div>
									<div class="face">Vue3</div>
								</div>
							</div>
							<div class="plane1"></div>
							<div class="plane2"></div>
							<div class="plane3"></div>
						</section>
					</li>
					<li class="project">
						<section>
							<header class="project1 commonTitle">
								<span>练习</span> <br>
								<span>简单项目</span> <br>
								<span>练手</span> <br>
							</header>
							<div class="project2">
								<div class="item">
									<img src="img/project1.png">
									<div class="mask">
										<span>简单的排行榜贼啦简单，现在来测试测试</span>
										<div class="icon"></div>
									</div>
								</div>
								<div class="item">
									<img src="img/project2.png">
									<div class="mask">
										<span>简单的移动端</span>
										<div class="icon"></div>
									</div>
								</div>
								<div class="item">
									<img src="img/project3.png">
									<div class="mask">
										<span>简单的3d效果</span>
										<div class="icon"></div>
									</div>
								</div>
								<div class="item">
									<img src="img/worksimg4.jpg">
									<div class="mask">
										<span>没想出来</span>
										<div class="icon"></div>
									</div>
								</div>
							</div>
							<div class="project3"></div>
							<div class="pencel1"></div>
							<div class="pencel2"></div>
							<div class="pencel3"></div>
						</section>
					</li>
					<li class="introduction">
						<section>
							<header class="introduction1 commonTitle">
								<span>图片</span> <br>
								<span>炸裂效果</span> <br>
								<span>酷炫</span> <br>
							</header>
							<div class="introduction2">
								<p class="commonText">Vue (读音 /vjuː/，类似于 view) 是一套用于构建用户界面的渐进式框架。与其它大型框架不同的是，Vue
									被设计为可以自底向上逐层应用。Vue 的核心库只关注视图层，不仅易于上手，还便于与第三方库或既有项目整合。另一方面，当与现代化的工具链以及各种支持类库结合使用时，Vue
									也完全能够为复杂的单页应用提供驱动。</p>
							</div>
							<div class="introduction3">
								<div class="item">
									<span></span>
									<ul data-src="./img/about1.jpg"></ul>
								</div>
								<div class="item">
									<span></span>
									<ul data-src="./img/about3.jpg"></ul>
								</div>
							</div>
							<div class="introduction4"></div>
						</section>
					</li>
					<li class="about">
						<section>
							<header class="about1 commonTitle">
								<span>泡泡</span><br>
								<span>梦幻浪漫</span><br>
							</header>
							<div class="about2 commonText">
								<p>JavaScript在1995年由Netscape公司的Brendan Eich，在网景导航者浏览器上首次设计实现而成。因为Netscape与Sun合作，Netscape管理层希望它外观看起来像Java，因此取名为JavaScript。但实际上它的语法风格与Self及Scheme较为接近。</p>
								<p>JavaScript的标准是ECMAScript 。截至 2012 年，所有浏览器都完整的支持ECMAScript 5.1，旧版本的浏览器至少支持ECMAScript 3 标准。2015年6月17日，ECMA国际组织发布了ECMAScript的第六版，该版本正式名称为 ECMAScript 2015，但通常被称为ECMAScript 6 或者ES2015。</p>
							</div>
							<div class="about3">
							<ul>
								<li></li>
								<li></li>
								<li></li>
								<li></li>
								<li></li>
								<li></li>
								<li></li>
								<li></li>
							</ul>
							</div>
							<ul class="dot">
								<li class="active"></li>
								<li></li>
								<li></li>
								<li></li>
								<li></li>
							</ul>
						</section>
					</li>
				</ul>
			</section>

		</section>
	</body>
	<script type="text/javascript">
		window.onload = function() {
			//获取dom元素
			let arrow = document.querySelector("#head .headMain > .arrow");
			let logo = document.querySelector("#head .headMain > .logo");
			let li = document.querySelectorAll("#head .headMain > .nav > .list > li");
			let firstLi = li[0];
			let up = document.querySelectorAll(".nav .up");
			let firstup = up[0];

			let head = document.querySelector("#head");
			let content = document.querySelector("#content");
			let contentLi = document.querySelectorAll("#content .list > li");
			let contentList = document.querySelector("#content .list");
			let now = 0;
			let timer = 0;

			let home2Li = document.querySelectorAll("#content > .list > .home .home2 > li");
			let home1Li = document.querySelectorAll("#content > .list > .home .home1 > li");
			let home1 = document.querySelector("#content > .list > .home .home1");

			let introductionUl = document.querySelectorAll("#content > .list > .introduction .introduction3 > .item > ul");
			
			//竖着的小圆点
			let dotLis = document.querySelectorAll("#content > .list > .about .dot > li")
			let aboutLis = document.querySelectorAll("#content > .list > .about .about3 ul> li");
			let about3Ul = document.querySelector("#content > .list > .about  .about3 ul");
			let about3 = document.querySelector("#content > .list > .about .about3");
			
			//上一屏
			let preIndex = 0;
			let music = document.querySelector("#head .headMain > .music");
			let audio = document.querySelector("#head .headMain > .music > audio");
			
			let line = document.querySelector("#mask .line");
			let mians = document.querySelectorAll("#mask div");
			let mask = document.querySelector("#mask");
			
			//开机动画
			loadingAn();
			function loadingAn(){
				var arr = ['bg1.jpg','bg2.jpg','bg3.jpg','bg4.jpg','bg5.jpg','about1.jpg','about2.jpg','about3.jpg','about4.jpg','worksimg1.jpg','worksimg2.jpg','worksimg3.jpg','worksimg4.jpg','team.png','greenLine.png'];
				var flag = 0;
				for (var i = 0; i < arr.length; i++) {
					var img = new Image();
					img.src = "img/"+arr[i];
					img.onload = function(){
						flag++;
						line.style.width = flag / arr.length * 100 + "%";	
					}
				}
				line.addEventListener("transitionend",function(){
					if(flag === arr.length){
						for (var i = 0; i < mians.length; i++) {
							mians[i].style.height = 0;
						}
						this.style.display = "none";
					}
				})
				mians[0].addEventListener("transitionend",function(){
					mask.remove();
					home3D();	
				})
			}
			
			
			logo.onclick = function(){
				move(0);
				anArr[0].inAn();
				
			}
			//音频相关
			music.onclick = function (){
				if(audio.paused){
					audio.play();
					music.style.background = "url(img/musicon.gif)";
				}else{
					audio.pause();
					music.style.background = "url(img/musicoff.gif)";
				}
			}
			
			//出入场
			let anArr=[
				//第一屏出入场
				{
					inAn:function(){
						let home1 = document.querySelector("#content > .list > .home .home1");
						let home2 = document.querySelector("#content > .list > .home .home2");
						
						home1.style.transform = "translateY(0)";
						home2.style.transform = "translateY(0)";
						home1.style.opacity = 1;
						home2.style.opacity = 1;
					},
					outAn(){
						let home1 = document.querySelector("#content > .list > .home .home1");
						let home2 = document.querySelector("#content > .list > .home .home2");
						
						home1.style.transform = "translateY(-400px)";
						home2.style.transform = "translateY(100px)";
						home1.style.opacity = 0;
						home2.style.opacity = 0;
						
					}
				},
				//第二屏出入场----灰机
				{
					inAn:function(){
						let plane1 = document.querySelector("#content > .list > .course .plane1");
						let plane2 = document.querySelector("#content > .list > .course .plane2");
						let plane3 = document.querySelector("#content > .list > .course .plane3");
						plane1.style.transform = "translate(0px,0px)";
						plane2.style.transform = "translate(0px,0px)";
						plane3.style.transform = "translate(0px,0px)";
					},
					outAn(){
						let plane1 = document.querySelector("#content > .list > .course .plane1");
						let plane2 = document.querySelector("#content > .list > .course .plane2");
						let plane3 = document.querySelector("#content > .list > .course .plane3");
						plane1.style.transform = "translate(-200px,-200px)";
						plane2.style.transform = "translate(-200px,200px)";
						plane3.style.transform = "translate(200px,-200px)";
					}
				},
				//第三屏出入场---笔
				{
					inAn:function(){
						let pencel1 = document.querySelector("#content > .list > .project .pencel1");
						let pencel2 = document.querySelector("#content > .list > .project .pencel2");
						let pencel3 = document.querySelector("#content > .list > .project .pencel3");
						pencel1.style.transform = "translateY(0px)";
						pencel2.style.transform = "translateY(0px)";
						pencel3.style.transform = "translateY(0px)";
					},
					outAn(){
						let pencel1 = document.querySelector("#content > .list > .project .pencel1");
						let pencel2 = document.querySelector("#content > .list > .project .pencel2");
						let pencel3 = document.querySelector("#content > .list > .project .pencel3");
						pencel1.style.transform = "translateY(-100px)";
						pencel2.style.transform = "translateY(100px)";
						pencel3.style.transform = "translateY(100px)";
					}
				},
				//第四屏出入场 --图片旋转
				{
					inAn:function(){
						let Rect1 = document.querySelector("#content > .list > .introduction .introduction3 > .item:nth-child(1)");
						let Rect2 = document.querySelector("#content > .list > .introduction .introduction3 > .item:nth-child(2)");
						
						Rect1.style.transform = "rotate(0deg)";
						Rect2.style.transform = "rotate(0deg)";
					},
					outAn(){
						let Rect1 = document.querySelector("#content > .list > .introduction .introduction3 > .item:nth-child(1)");
						let Rect2 = document.querySelector("#content > .list > .introduction .introduction3 > .item:nth-child(2)");
						
						Rect1.style.transform = "rotate(45deg)";
						Rect2.style.transform = "rotate(-45deg)";
					}
				},
				//第五屏出入场
				{
					inAn:function(){
						let Rect1 = document.querySelector("#content > .list > .about .about1");
						let Rect2 = document.querySelector("#content > .list > .about .about2");
						
						Rect1.style.transform = "translateX(0px)";
						Rect2.style.transform = "translateX(0px)";
					},
					outAn(){
						let Rect1 = document.querySelector("#content > .list > .about .about1");
						let Rect2 = document.querySelector("#content > .list > .about .about2");
						
						Rect1.style.transform = "translateX(-200px)";
						Rect2.style.transform = "translateX(200px)";
					}
				}
			]
			
			
			for (let i = 0; i < anArr.length; i++) {
				anArr[i]["outAn"]();
			}
			setTimeout(function(){
				anArr[0].inAn();
			},2000)
			//测试
			// anArr[4].outAn();
			// setTimeout(function(){anArr[4].inAn();},1000)
			


			//第五屏相关--气泡效果
			biubiu();
			function biubiu(){
				let oc = null;
				let timerQiPao1=0;
				let timerQiPao2=0;
				for (let i = 0; i < aboutLis.length; i++) {
					aboutLis[i].onmouseenter = function(){
						for (let i = 0; i < aboutLis.length; i++) {
							aboutLis[i].style.opacity = .5;
						}
						this.style.opacity =1;
						addCanvas();
						oc.style.left = this.offsetLeft + "px";
					}
				}
				
				function addCanvas(){
					if(!oc){
						oc = document.createElement("canvas");
						oc.width = aboutLis[0].offsetWidth;
						oc.height = aboutLis[0].offsetHeight*2/3;
						
						oc.onmouseleave = function(){
							for (let i = 0; i < aboutLis.length; i++) {
								aboutLis[i].style.opacity = 1;
							}
							removeCanvas();
						}
						
						about3.appendChild(oc);
						QiPao();
					}
				}
				
				function removeCanvas(){
					oc.remove();
					oc = null;
					clearInterval(timerQiPao1);
					clearInterval(timerQiPao2);
				}
				
				
				function QiPao(){
					if(oc.getContext){
						var ctx = oc.getContext("2d");
						var arr=[];
						
						//将数组中的圆绘制到画布上
						timerQiPao1 = (setInterval(function(){
							ctx.clearRect(0,0,oc.width,oc.height);
							//动画
							for(var i=0;i<arr.length;i++){
								arr[i].deg+=10;
								arr[i].x = arr[i].startX +  Math.sin( arr[i].deg*Math.PI/180 )*arr[i].step*4;
								arr[i].y = arr[i].startY - (arr[i].deg*Math.PI/180)*arr[i].step ;
								
								if(arr[i].y <=50){
									arr.splice(i,1)
								}
							}
							
							
							//绘制
							for(var i=0;i<arr.length;i++){
								ctx.save();
								ctx.fillStyle="rgba("+arr[i].red+","+arr[i].green+","+arr[i].blue+","+arr[i].alp+")";
								ctx.beginPath();
								ctx.arc(arr[i].x,arr[i].y,arr[i].r,0,2*Math.PI);
								ctx.fill();
								ctx.restore();
							}
						},1000/60))
						
						//往arr中注入随机圆的信息
						timerQiPao2 = (setInterval(function(){
							var r =Math.random()*6+2;
							var x = Math.random()*oc.width;
							var y = oc.height - r;
							var red =   Math.round(Math.random()*255);
							var green = Math.round(Math.random()*255);
							var blue =  Math.round(Math.random()*255);
							var alp = 1;
							
							
							var deg =0;
							var startX = x;
							var startY = y;
							//曲线的运动形式
							var step =Math.random()*20+10;
							arr.push({
								x:x,
								y:y,
								r:r,
								red:red,
								green:green,
								blue:blue,
								alp:alp,
								deg:deg,
								startX:startX,
								startY:startY,
								step:step
							})
						},50))
					}
				}
			}
			
				
			
			//第四屏图片炸裂效果
			picBoom();
			function picBoom() {
				for (let i = 0; i < introductionUl.length; i++) {
					change(introductionUl[i])
				}

				function change(UL) {
					let src = UL.dataset.src;
					let w = UL.offsetWidth / 2;
					let h = UL.offsetHeight / 2;
					for (let i = 0; i < 4; i++) {
						let liNode = document.createElement("li");
						liNode.style.width = w + "px";
						liNode.style.height = h + "px";
						let imgNode = document.createElement("img");

						/*
						1. left:0    top:0
						2. left:-w   top:0
						3. left:0    top:-h
						4. left:-w   top:-h
						*/
						imgNode.style.left = -(i % 2) * w + "px";
						imgNode.style.top = -Math.floor(i / 2) * h + "px";

						imgNode.src = src;
						liNode.appendChild(imgNode);
						UL.appendChild(liNode);



					}

					//图片偏移
					UL.onmouseenter = function() {
						/*
						1. left:0    top:h
						2. left:-2w   top:0
						3. left:w    top:-h
						4. left:-w   top:-2h
						*/
						let imgNodes = this.querySelectorAll("li>img");
						imgNodes[0].style.top = h+"px";
						imgNodes[1].style.left = -2*w+"px";
						imgNodes[2].style.left = w+"px";
						imgNodes[3].style.top = -2*h+"px";
					}

					UL.onmouseleave = function() {
						let imgNodes = this.querySelectorAll("li>img");
						imgNodes[0].style.top = 0+"px";
						imgNodes[1].style.left = -w+"px";
						imgNodes[2].style.left = 0+"px";
						imgNodes[3].style.top = -h+"px";
					}
				}
			}




			//第一屏3D效果
			let oldIndex = 0;
			let timer3D;
			let autoIndex = 0;
			//第一屏相关	
			// home3D();
			function home3D() {
				for (var i = 0; i < home2Li.length; i++) {
					home2Li[i].index = i;
					home2Li[i].onclick = function() {
						clearInterval(timer3D);
						for (let i = 0; i < home2Li.length; i++) {
							home2Li[i].classList.remove("active");
						}
						this.classList.add("active");


						//从左往右 当前索引大于上一次的索引 rightShow
						if (this.index > oldIndex) {
							home1Li[this.index].classList.remove("leftShow");
							home1Li[this.index].classList.remove("leftHide");
							home1Li[this.index].classList.remove("rightHide");
							home1Li[this.index].classList.add("rightShow");


							home1Li[oldIndex].classList.remove("rightShow");
							home1Li[oldIndex].classList.remove("rightHide");
							home1Li[oldIndex].classList.remove("leftShow");
							home1Li[oldIndex].classList.add("leftHide");
						}

						//从右往左 当前索引小于上一次的索引 leftShow
						if (this.index < oldIndex) {
							if (this.index < oldIndex) {
								home1Li[this.index].classList.remove("rightShow");
								home1Li[this.index].classList.remove("leftHide");
								home1Li[this.index].classList.remove("rightHide");
								home1Li[this.index].classList.add("leftShow");


								home1Li[oldIndex].classList.remove("leftShow");
								home1Li[oldIndex].classList.remove("rightShow");
								home1Li[oldIndex].classList.remove("leftHide");
								home1Li[oldIndex].classList.add("rightHide");
							}
						}

						oldIndex = this.index;
						//自动轮播--->手动轮播的同步问题
						//手动点完是需要自动轮播的，自动轮播从哪个面开始播？--->手动点的这个面开始自动轮播
						//手动轮播的逻辑必须药告诉自动轮播 我刚刚点了哪一个面
						autoIndex = this.index;
					}
				}


				//从左向右自动轮播
				move();
				function move() {
					clearInterval(timer3D);
					timer3D = setInterval(function() {
						autoIndex++;

						//无缝
						if (autoIndex === home1Li.length) {
							autoIndex = 0;
						}

						for (let i = 0; i < home2Li.length; i++) {
							home2Li[i].classList.remove("active");
						}
						home2Li[autoIndex].classList.add("active");

						home1Li[autoIndex].classList.remove("leftShow");
						home1Li[autoIndex].classList.remove("leftHide");
						home1Li[autoIndex].classList.remove("rightHide");
						home1Li[autoIndex].classList.add("rightShow");


						home1Li[oldIndex].classList.remove("rightShow");
						home1Li[oldIndex].classList.remove("rightHide");
						home1Li[oldIndex].classList.remove("leftShow");
						home1Li[oldIndex].classList.add("leftHide");

						//自动轮播--->手动轮播的同步问题
						//自动轮播一直运行...autoIndex一直在加加,自动轮播到一半时有可能触发手动轮播
						//这个时候自动轮播的逻辑必须要告诉手动轮播  我播到哪一个面上了
						oldIndex = autoIndex;
					}, 2000)
				}

				home1.onmouseenter = function() {
					clearInterval(timer3D);
				}

				home1.onmouseleave = function() {
					move();
				}
			}




			window.onresize = function() {
				contentBind();
				contentList.style.top = -now * (document.documentElement.clientHeight - head.offsetHeight) + "px";
			}
			//内容区
			//滚轮相关
			if (content.addEventListener) {
				content.addEventListener("DOMMouseScroll", function(ev) {
					ev = ev || event;
					clearTimeout(timer);
					timer = setTimeout(function() {
						fn(ev)
					}, 200)
				});
			}
			content.onmousewheel = function(ev) {
				ev = ev || event;
				clearTimeout(timer);
				timer = setTimeout(function() {
					fn(ev)
				}, 200)
			};

			function fn(ev) {
				ev = ev || event;
				let dir = "";
				if (ev.wheelDelta) {
					dir = ev.wheelDelta > 0 ? "up" : "down";
				} else if (ev.detail) {
					dir = ev.detail < 0 ? "up" : "down";
				}
				
				preIndex = now;
				switch (dir) {
					case "up":
						if (now > 0) {
							now--;
							move(now);
						}
						break;
					case "down":
						if (now < contentLi.length - 1) {
							now++;
							move(now);
						}
						break;
				}

			}



			//调整尺寸相关
			contentBind();
			function contentBind() {
				content.style.height = document.documentElement.clientHeight - head.offsetHeight + "px";
				for (let i = 0; i < contentLi.length; i++) {
					contentLi[i].style.height = document.documentElement.clientHeight - head.offsetHeight + "px";
				}
			}



			//头部交互
			headBind()
			function headBind() {
				firstup.style.width = '100%';
				arrow.style.left = firstLi.offsetLeft + firstLi.offsetWidth / 2 - arrow.offsetWidth / 2 + 'px';
				for (let i = 0; i < li.length; i++) {
					li[i].onclick = function() {
						preIndex = now;
						move(i);
						now = i;
					}
				}
				
				for (let i = 0; i < dotLis.length; i++) {
					dotLis[i].onclick = function() {
						preIndex = now;
						move(i);
						now = i;
					}
				}
			}

			//动画的核心函数
			function move(i) {
				for (let i = 0; i < up.length; i++) {
					//up[i].style.width="0";
					up[i].style.width = "";
				}
				up[i].style.width = '100%';
				arrow.style.left = li[i].offsetLeft + li[i].offsetWidth / 2 - arrow.offsetWidth / 2 + 'px';
				contentList.style.top = -i * (document.documentElement.clientHeight - head.offsetHeight) + "px";
				
				
				for (let i = 0; i < dotLis.length; i++) {
					//up[i].style.width="0";
					dotLis[i].className = "";
				}
				dotLis[i].className = "active";
				
				//出入场
				if(anArr[i]&&typeof anArr[i]["inAn"] === "function"){
					anArr[i]["inAn"]();
				}
				if(anArr[preIndex]&&typeof anArr[preIndex]["outAn"] === "function"){
					anArr[preIndex]["outAn"]();
				}
			}


		}
	</script>
</html>
